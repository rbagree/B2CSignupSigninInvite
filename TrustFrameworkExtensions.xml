<TrustFrameworkPolicy xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/online/cpim/schemas/2013/06" PolicySchemaVersion="0.3.0.0" TenantId="mytenant.onmicrosoft.com" PolicyId="B2C_1A_TrustFrameworkExtensions" PublicPolicyUri="http://mytenant.onmicrosoft.com/B2C_1A_TrustFrameworkExtensions" TenantObjectId="a45f9885-8d00-4f66-8941-b2035838bfcb">
  <BasePolicy>
    <TenantId>mytenant.onmicrosoft.com</TenantId>
    <PolicyId>B2C_1A_TrustFrameworkBase</PolicyId>
  </BasePolicy>
  <BuildingBlocks>
    <ClaimsSchema>
      <ClaimType Id="TrustFrameworkPolicy">
        <DisplayName> Trust Framework Policy </DisplayName>
        <DataType>string</DataType>
        <DefaultPartnerClaimTypes>
          <Protocol Name="OAuth2" PartnerClaimType="tfp" />
          <Protocol Name="OpenIdConnect" PartnerClaimType="tfp" />
        </DefaultPartnerClaimTypes>
      </ClaimType>
      <ClaimType Id="city">
        <DisplayName>City</DisplayName>
        <DataType>string</DataType>
        <UserInputType>TextBox</UserInputType>
      </ClaimType>
      <ClaimType Id="country">
        <DisplayName>Country</DisplayName>
        <DataType>string</DataType>
        <UserInputType>DropdownSingleSelect</UserInputType>
        <Restriction>
          <Enumeration Text="Afghanistan" Value="Afghanistan" SelectByDefault="false" />
          <Enumeration Text="Åland Islands" Value="Åland Islands" SelectByDefault="false" />
          <Enumeration Text="Albania" Value="Albania" SelectByDefault="false" />
          <Enumeration Text="Algeria" Value="Algeria" SelectByDefault="false" />
          <Enumeration Text="American Samoa" Value="American Samoa" SelectByDefault="false" />
          <Enumeration Text="Andorra" Value="Andorra" SelectByDefault="false" />
          <Enumeration Text="Angola" Value="Angola" SelectByDefault="false" />
          <Enumeration Text="Anguilla" Value="Anguilla" SelectByDefault="false" />
          <Enumeration Text="Antarctica" Value="Antarctica" SelectByDefault="false" />
          <Enumeration Text="Antigua and Barbuda" Value="Antigua and Barbuda" SelectByDefault="false" />
          <Enumeration Text="Argentina" Value="Argentina" SelectByDefault="false" />
          <Enumeration Text="Armenia" Value="Armenia" SelectByDefault="false" />
          <Enumeration Text="Aruba" Value="Aruba" SelectByDefault="false" />
          <Enumeration Text="Australia" Value="Australia" SelectByDefault="false" />
          <Enumeration Text="Austria" Value="Austria" SelectByDefault="false" />
          <Enumeration Text="Azerbaijan" Value="Azerbaijan" SelectByDefault="false" />
          <Enumeration Text="Bahamas" Value="Bahamas" SelectByDefault="false" />
          <Enumeration Text="Bahrain" Value="Bahrain" SelectByDefault="false" />
          <Enumeration Text="Bangladesh" Value="Bangladesh" SelectByDefault="false" />
          <Enumeration Text="Barbados" Value="Barbados" SelectByDefault="false" />
          <Enumeration Text="Belarus" Value="Belarus" SelectByDefault="false" />
          <Enumeration Text="Belgium" Value="Belgium" SelectByDefault="false" />
          <Enumeration Text="Belize" Value="Belize" SelectByDefault="false" />
          <Enumeration Text="Benin" Value="Benin" SelectByDefault="false" />
          <Enumeration Text="Bermuda" Value="Bermuda" SelectByDefault="false" />
          <Enumeration Text="Bhutan" Value="Bhutan" SelectByDefault="false" />
          <Enumeration Text="Bolivia" Value="Bolivia" SelectByDefault="false" />
          <Enumeration Text="Bonaire" Value="Bonaire" SelectByDefault="false" />
          <Enumeration Text="Bosnia and Herzegovina" Value="Bosnia and Herzegovina" SelectByDefault="false" />
          <Enumeration Text="Botswana" Value="Botswana" SelectByDefault="false" />
          <Enumeration Text="Bouvet Island" Value="Bouvet Island" SelectByDefault="false" />
          <Enumeration Text="Brazil" Value="Brazil" SelectByDefault="false" />
          <Enumeration Text="British Indian Ocean Territory" Value="British Indian Ocean Territory" SelectByDefault="false" />
          <Enumeration Text="British Virgin Islands" Value="British Virgin Islands" SelectByDefault="false" />
          <Enumeration Text="Brunei" Value="Brunei" SelectByDefault="false" />
          <Enumeration Text="Bulgaria" Value="Bulgaria" SelectByDefault="false" />
          <Enumeration Text="Burkina Faso" Value="Burkina Faso" SelectByDefault="false" />
          <Enumeration Text="Burundi" Value="Burundi" SelectByDefault="false" />
          <Enumeration Text="Cabo Verde" Value="Cabo Verde" SelectByDefault="false" />
          <Enumeration Text="Cambodia" Value="Cambodia" SelectByDefault="false" />
          <Enumeration Text="Cameroon" Value="Cameroon" SelectByDefault="false" />
          <Enumeration Text="Canada" Value="Canada" SelectByDefault="false" />
          <Enumeration Text="Cayman Islands" Value="Cayman Islands" SelectByDefault="false" />
          <Enumeration Text="Central African Republic" Value="Central African Republic" SelectByDefault="false" />
          <Enumeration Text="Chad" Value="Chad" SelectByDefault="false" />
          <Enumeration Text="Chile" Value="Chile" SelectByDefault="false" />
          <Enumeration Text="China" Value="China" SelectByDefault="false" />
          <Enumeration Text="Christmas Island" Value="Christmas Island" SelectByDefault="false" />
          <Enumeration Text="Cocos (Keeling) Islands" Value="Cocos (Keeling) Islands" SelectByDefault="false" />
          <Enumeration Text="Colombia" Value="Colombia" SelectByDefault="false" />
          <Enumeration Text="Comoros" Value="Comoros" SelectByDefault="false" />
          <Enumeration Text="Congo" Value="Congo" SelectByDefault="false" />
          <Enumeration Text="Congo (DRC)" Value="Congo (DRC)" SelectByDefault="false" />
          <Enumeration Text="Cook Islands" Value="Cook Islands" SelectByDefault="false" />
          <Enumeration Text="Costa Rica" Value="Costa Rica" SelectByDefault="false" />
          <Enumeration Text="Côte d’Ivoire" Value="Côte d’Ivoire" SelectByDefault="false" />
          <Enumeration Text="Croatia" Value="Croatia" SelectByDefault="false" />
          <Enumeration Text="Cuba" Value="Cuba" SelectByDefault="false" />
          <Enumeration Text="Curaçao" Value="Curaçao" SelectByDefault="false" />
          <Enumeration Text="Cyprus" Value="Cyprus" SelectByDefault="false" />
          <Enumeration Text="Czech Republic" Value="Czech Republic" SelectByDefault="false" />
          <Enumeration Text="Denmark" Value="Denmark" SelectByDefault="false" />
          <Enumeration Text="Djibouti" Value="Djibouti" SelectByDefault="false" />
          <Enumeration Text="Dominica" Value="Dominica" SelectByDefault="false" />
          <Enumeration Text="Dominican Republic" Value="Dominican Republic" SelectByDefault="false" />
          <Enumeration Text="Ecuador" Value="Ecuador" SelectByDefault="false" />
          <Enumeration Text="Egypt" Value="Egypt" SelectByDefault="false" />
          <Enumeration Text="El Salvador" Value="El Salvador" SelectByDefault="false" />
          <Enumeration Text="Equatorial Guinea" Value="Equatorial Guinea" SelectByDefault="false" />
          <Enumeration Text="Eritrea" Value="Eritrea" SelectByDefault="false" />
          <Enumeration Text="Estonia" Value="Estonia" SelectByDefault="false" />
          <Enumeration Text="Ethiopia" Value="Ethiopia" SelectByDefault="false" />
          <Enumeration Text="Falkland Islands" Value="Falkland Islands" SelectByDefault="false" />
          <Enumeration Text="Faroe Islands" Value="Faroe Islands" SelectByDefault="false" />
          <Enumeration Text="Fiji" Value="Fiji" SelectByDefault="false" />
          <Enumeration Text="Finland" Value="Finland" SelectByDefault="false" />
          <Enumeration Text="France" Value="France" SelectByDefault="false" />
          <Enumeration Text="French Guiana" Value="French Guiana" SelectByDefault="false" />
          <Enumeration Text="French Polynesia" Value="French Polynesia" SelectByDefault="false" />
          <Enumeration Text="French Southern Territories" Value="French Southern Territories" SelectByDefault="false" />
          <Enumeration Text="Gabon" Value="Gabon" SelectByDefault="false" />
          <Enumeration Text="Gambia" Value="Gambia" SelectByDefault="false" />
          <Enumeration Text="Georgia" Value="Georgia" SelectByDefault="false" />
          <Enumeration Text="Germany" Value="Germany" SelectByDefault="false" />
          <Enumeration Text="Ghana" Value="Ghana" SelectByDefault="false" />
          <Enumeration Text="Gibraltar" Value="Gibraltar" SelectByDefault="false" />
          <Enumeration Text="Greece" Value="Greece" SelectByDefault="false" />
          <Enumeration Text="Greenland" Value="Greenland" SelectByDefault="false" />
          <Enumeration Text="Grenada" Value="Grenada" SelectByDefault="false" />
          <Enumeration Text="Guadeloupe" Value="Guadeloupe" SelectByDefault="false" />
          <Enumeration Text="Guam" Value="Guam" SelectByDefault="false" />
          <Enumeration Text="Guatemala" Value="Guatemala" SelectByDefault="false" />
          <Enumeration Text="Guernsey" Value="Guernsey" SelectByDefault="false" />
          <Enumeration Text="Guinea" Value="Guinea" SelectByDefault="false" />
          <Enumeration Text="Guinea-Bissau" Value="Guinea-Bissau" SelectByDefault="false" />
          <Enumeration Text="Guyana" Value="Guyana" SelectByDefault="false" />
          <Enumeration Text="Haiti" Value="Haiti" SelectByDefault="false" />
          <Enumeration Text="Heard Island and McDonald Islands" Value="Heard Island and McDonald Islands" SelectByDefault="false" />
          <Enumeration Text="Honduras" Value="Honduras" SelectByDefault="false" />
          <Enumeration Text="Hong Kong SAR" Value="Hong Kong SAR" SelectByDefault="false" />
          <Enumeration Text="Hungary" Value="Hungary" SelectByDefault="false" />
          <Enumeration Text="Iceland" Value="Iceland" SelectByDefault="false" />
          <Enumeration Text="India" Value="India" SelectByDefault="false" />
          <Enumeration Text="Indonesia" Value="Indonesia" SelectByDefault="false" />
          <Enumeration Text="Iran" Value="Iran" SelectByDefault="false" />
          <Enumeration Text="Iraq" Value="Iraq" SelectByDefault="false" />
          <Enumeration Text="Ireland" Value="Ireland" SelectByDefault="false" />
          <Enumeration Text="Isle of Man" Value="Isle of Man" SelectByDefault="false" />
          <Enumeration Text="Israel" Value="Israel" SelectByDefault="false" />
          <Enumeration Text="Italy" Value="Italy" SelectByDefault="false" />
          <Enumeration Text="Jamaica" Value="Jamaica" SelectByDefault="false" />
          <Enumeration Text="Jan Mayen" Value="Jan Mayen" SelectByDefault="false" />
          <Enumeration Text="Japan" Value="Japan" SelectByDefault="false" />
          <Enumeration Text="Jersey" Value="Jersey" SelectByDefault="false" />
          <Enumeration Text="Jordan" Value="Jordan" SelectByDefault="false" />
          <Enumeration Text="Kazakhstan" Value="Kazakhstan" SelectByDefault="false" />
          <Enumeration Text="Kenya" Value="Kenya" SelectByDefault="false" />
          <Enumeration Text="Kiribati" Value="Kiribati" SelectByDefault="false" />
          <Enumeration Text="Korea" Value="Korea" SelectByDefault="false" />
          <Enumeration Text="Kosovo" Value="Kosovo" SelectByDefault="false" />
          <Enumeration Text="Kuwait" Value="Kuwait" SelectByDefault="false" />
          <Enumeration Text="Kyrgyzstan" Value="Kyrgyzstan" SelectByDefault="false" />
          <Enumeration Text="Laos" Value="Laos" SelectByDefault="false" />
          <Enumeration Text="Latvia" Value="Latvia" SelectByDefault="false" />
          <Enumeration Text="Lebanon" Value="Lebanon" SelectByDefault="false" />
          <Enumeration Text="Lesotho" Value="Lesotho" SelectByDefault="false" />
          <Enumeration Text="Liberia" Value="Liberia" SelectByDefault="false" />
          <Enumeration Text="Libya" Value="Libya" SelectByDefault="false" />
          <Enumeration Text="Liechtenstein" Value="Liechtenstein" SelectByDefault="false" />
          <Enumeration Text="Lithuania" Value="Lithuania" SelectByDefault="false" />
          <Enumeration Text="Luxembourg" Value="Luxembourg" SelectByDefault="false" />
          <Enumeration Text="Macao SAR" Value="Macao SAR" SelectByDefault="false" />
          <Enumeration Text="Macedonia, FYRO" Value="Macedonia, FYRO" SelectByDefault="false" />
          <Enumeration Text="Madagascar" Value="Madagascar" SelectByDefault="false" />
          <Enumeration Text="Malawi" Value="Malawi" SelectByDefault="false" />
          <Enumeration Text="Malaysia" Value="Malaysia" SelectByDefault="false" />
          <Enumeration Text="Maldives" Value="Maldives" SelectByDefault="false" />
          <Enumeration Text="Mali" Value="Mali" SelectByDefault="false" />
          <Enumeration Text="Malta" Value="Malta" SelectByDefault="false" />
          <Enumeration Text="Marshall Islands" Value="Marshall Islands" SelectByDefault="false" />
          <Enumeration Text="Martinique" Value="Martinique" SelectByDefault="false" />
          <Enumeration Text="Mauritania" Value="Mauritania" SelectByDefault="false" />
          <Enumeration Text="Mauritius" Value="Mauritius" SelectByDefault="false" />
          <Enumeration Text="Mayotte" Value="Mayotte" SelectByDefault="false" />
          <Enumeration Text="Mexico" Value="Mexico" SelectByDefault="false" />
          <Enumeration Text="Micronesia" Value="Micronesia" SelectByDefault="false" />
          <Enumeration Text="Moldova" Value="Moldova" SelectByDefault="false" />
          <Enumeration Text="Monaco" Value="Monaco" SelectByDefault="false" />
          <Enumeration Text="Mongolia" Value="Mongolia" SelectByDefault="false" />
          <Enumeration Text="Montenegro" Value="Montenegro" SelectByDefault="false" />
          <Enumeration Text="Montserrat" Value="Montserrat" SelectByDefault="false" />
          <Enumeration Text="Morocco" Value="Morocco" SelectByDefault="false" />
          <Enumeration Text="Mozambique" Value="Mozambique" SelectByDefault="false" />
          <Enumeration Text="Myanmar" Value="Myanmar" SelectByDefault="false" />
          <Enumeration Text="Namibia" Value="Namibia" SelectByDefault="false" />
          <Enumeration Text="Nauru" Value="Nauru" SelectByDefault="false" />
          <Enumeration Text="Nepal" Value="Nepal" SelectByDefault="false" />
          <Enumeration Text="Netherlands" Value="Netherlands" SelectByDefault="false" />
          <Enumeration Text="New Caledonia" Value="New Caledonia" SelectByDefault="false" />
          <Enumeration Text="New Zealand" Value="New Zealand" SelectByDefault="false" />
          <Enumeration Text="Nicaragua" Value="Nicaragua" SelectByDefault="false" />
          <Enumeration Text="Niger" Value="Niger" SelectByDefault="false" />
          <Enumeration Text="Nigeria" Value="Nigeria" SelectByDefault="false" />
          <Enumeration Text="Niue" Value="Niue" SelectByDefault="false" />
          <Enumeration Text="Norfolk Island" Value="Norfolk Island" SelectByDefault="false" />
          <Enumeration Text="North Korea" Value="North Korea" SelectByDefault="false" />
          <Enumeration Text="Northern Mariana Islands" Value="Northern Mariana Islands" SelectByDefault="false" />
          <Enumeration Text="Norway" Value="Norway" SelectByDefault="false" />
          <Enumeration Text="Oman" Value="Oman" SelectByDefault="false" />
          <Enumeration Text="Pakistan" Value="Pakistan" SelectByDefault="false" />
          <Enumeration Text="Palau" Value="Palau" SelectByDefault="false" />
          <Enumeration Text="Palestinian Authority" Value="Palestinian Authority" SelectByDefault="false" />
          <Enumeration Text="Panama" Value="Panama" SelectByDefault="false" />
          <Enumeration Text="Papua New Guinea" Value="Papua New Guinea" SelectByDefault="false" />
          <Enumeration Text="Paraguay" Value="Paraguay" SelectByDefault="false" />
          <Enumeration Text="Peru" Value="Peru" SelectByDefault="false" />
          <Enumeration Text="Philippines" Value="Philippines" SelectByDefault="false" />
          <Enumeration Text="Pitcairn Islands" Value="Pitcairn Islands" SelectByDefault="false" />
          <Enumeration Text="Poland" Value="Poland" SelectByDefault="false" />
          <Enumeration Text="Portugal" Value="Portugal" SelectByDefault="false" />
          <Enumeration Text="Puerto Rico" Value="Puerto Rico" SelectByDefault="false" />
          <Enumeration Text="Qatar" Value="Qatar" SelectByDefault="false" />
          <Enumeration Text="Réunion" Value="Réunion" SelectByDefault="false" />
          <Enumeration Text="Romania" Value="Romania" SelectByDefault="false" />
          <Enumeration Text="Russia" Value="Russia" SelectByDefault="false" />
          <Enumeration Text="Rwanda" Value="Rwanda" SelectByDefault="false" />
          <Enumeration Text="Saba" Value="Saba" SelectByDefault="false" />
          <Enumeration Text="Saint Barthélemy" Value="Saint Barthélemy" SelectByDefault="false" />
          <Enumeration Text="Saint Kitts and Nevis" Value="Saint Kitts and Nevis" SelectByDefault="false" />
          <Enumeration Text="Saint Lucia" Value="Saint Lucia" SelectByDefault="false" />
          <Enumeration Text="Saint Martin" Value="Saint Martin" SelectByDefault="false" />
          <Enumeration Text="Saint Pierre and Miquelon" Value="Saint Pierre and Miquelon" SelectByDefault="false" />
          <Enumeration Text="Saint Vincent and the Grenadines" Value="Saint Vincent and the Grenadines" SelectByDefault="false" />
          <Enumeration Text="Samoa" Value="Samoa" SelectByDefault="false" />
          <Enumeration Text="San Marino" Value="San Marino" SelectByDefault="false" />
          <Enumeration Text="São Tomé and Príncipe" Value="São Tomé and Príncipe" SelectByDefault="false" />
          <Enumeration Text="Saudi Arabia" Value="Saudi Arabia" SelectByDefault="false" />
          <Enumeration Text="Senegal" Value="Senegal" SelectByDefault="false" />
          <Enumeration Text="Serbia" Value="Serbia" SelectByDefault="false" />
          <Enumeration Text="Seychelles" Value="Seychelles" SelectByDefault="false" />
          <Enumeration Text="Sierra Leone" Value="Sierra Leone" SelectByDefault="false" />
          <Enumeration Text="Singapore" Value="Singapore" SelectByDefault="false" />
          <Enumeration Text="Sint Eustatius" Value="Sint Eustatius" SelectByDefault="false" />
          <Enumeration Text="Sint Maarten" Value="Sint Maarten" SelectByDefault="false" />
          <Enumeration Text="Slovakia" Value="Slovakia" SelectByDefault="false" />
          <Enumeration Text="Slovenia" Value="Slovenia" SelectByDefault="false" />
          <Enumeration Text="Solomon Islands" Value="Solomon Islands" SelectByDefault="false" />
          <Enumeration Text="Somalia" Value="Somalia" SelectByDefault="false" />
          <Enumeration Text="South Africa" Value="South Africa" SelectByDefault="false" />
          <Enumeration Text="South Georgia and the South Sandwich Islands" Value="South Georgia and the South Sandwich Islands" SelectByDefault="false" />
          <Enumeration Text="South Sudan" Value="South Sudan" SelectByDefault="false" />
          <Enumeration Text="Spain" Value="Spain" SelectByDefault="false" />
          <Enumeration Text="Sri Lanka" Value="Sri Lanka" SelectByDefault="false" />
          <Enumeration Text="St Helena, Ascension, Tristan da Cunha" Value="St Helena, Ascension, Tristan da Cunha" SelectByDefault="false" />
          <Enumeration Text="Sudan" Value="Sudan" SelectByDefault="false" />
          <Enumeration Text="Suriname" Value="Suriname" SelectByDefault="false" />
          <Enumeration Text="Svalbard" Value="Svalbard" SelectByDefault="false" />
          <Enumeration Text="Swaziland" Value="Swaziland" SelectByDefault="false" />
          <Enumeration Text="Sweden" Value="Sweden" SelectByDefault="false" />
          <Enumeration Text="Switzerland" Value="Switzerland" SelectByDefault="false" />
          <Enumeration Text="Syria" Value="Syria" SelectByDefault="false" />
          <Enumeration Text="Taiwan" Value="Taiwan" SelectByDefault="false" />
          <Enumeration Text="Tajikistan" Value="Tajikistan" SelectByDefault="false" />
          <Enumeration Text="Tanzania" Value="Tanzania" SelectByDefault="false" />
          <Enumeration Text="Thailand" Value="Thailand" SelectByDefault="false" />
          <Enumeration Text="Timor-Leste" Value="Timor-Leste" SelectByDefault="false" />
          <Enumeration Text="Togo" Value="Togo" SelectByDefault="false" />
          <Enumeration Text="Tokelau" Value="Tokelau" SelectByDefault="false" />
          <Enumeration Text="Tonga" Value="Tonga" SelectByDefault="false" />
          <Enumeration Text="Trinidad and Tobago" Value="Trinidad and Tobago" SelectByDefault="false" />
          <Enumeration Text="Tunisia" Value="Tunisia" SelectByDefault="false" />
          <Enumeration Text="Turkey" Value="Turkey" SelectByDefault="false" />
          <Enumeration Text="Turkmenistan" Value="Turkmenistan" SelectByDefault="false" />
          <Enumeration Text="Turks and Caicos Islands" Value="Turks and Caicos Islands" SelectByDefault="false" />
          <Enumeration Text="Tuvalu" Value="Tuvalu" SelectByDefault="false" />
          <Enumeration Text="U.S. Outlying Islands" Value="U.S. Outlying Islands" SelectByDefault="false" />
          <Enumeration Text="U.S. Virgin Islands" Value="U.S. Virgin Islands" SelectByDefault="false" />
          <Enumeration Text="Uganda" Value="Uganda" SelectByDefault="false" />
          <Enumeration Text="Ukraine" Value="Ukraine" SelectByDefault="false" />
          <Enumeration Text="United Arab Emirates" Value="United Arab Emirates" SelectByDefault="false" />
          <Enumeration Text="United Kingdom" Value="United Kingdom" SelectByDefault="false" />
          <Enumeration Text="United States" Value="United States" SelectByDefault="false" />
          <Enumeration Text="Uruguay" Value="Uruguay" SelectByDefault="false" />
          <Enumeration Text="Uzbekistan" Value="Uzbekistan" SelectByDefault="false" />
          <Enumeration Text="Vanuatu" Value="Vanuatu" SelectByDefault="false" />
          <Enumeration Text="Vatican City" Value="Vatican City" SelectByDefault="false" />
          <Enumeration Text="Venezuela" Value="Venezuela" SelectByDefault="false" />
          <Enumeration Text="Vietnam" Value="Vietnam" SelectByDefault="false" />
          <Enumeration Text="Wallis and Futuna" Value="Wallis and Futuna" SelectByDefault="false" />
          <Enumeration Text="Yemen" Value="Yemen" SelectByDefault="false" />
          <Enumeration Text="Zambia" Value="Zambia" SelectByDefault="false" />
          <Enumeration Text="Zimbabwe" Value="Zimbabwe" SelectByDefault="false" />
        </Restriction>
      </ClaimType>
      <ClaimType Id="extension_ContactNumber">
        <DisplayName>Contact Number</DisplayName>
        <DataType>string</DataType>
        <UserInputType>TextBox</UserInputType>
      </ClaimType>
      <ClaimType Id="postalCode">
        <DisplayName>Postal Code</DisplayName>
        <DataType>string</DataType>
        <UserInputType>TextBox</UserInputType>
      </ClaimType>
      <ClaimType Id="extension_Organization">
        <DisplayName>Organization</DisplayName>
        <DataType>string</DataType>
        <UserInputType>TextBox</UserInputType>
      </ClaimType>
    </ClaimsSchema>
    <!-- <ContentDefinitions>
      <ContentDefinition Id="api.signuporsignin">
        <LoadUri>https://mytenantcustomloginui.blob.core.windows.net/customloginui/custom-ui.html</LoadUri>
        <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
        <DataUri>urn:com:microsoft:aad:b2c:elements:contract:unifiedssp:1.2.0</DataUri>
        <Metadata>
          <Item Key="DisplayName">Signin and Signup</Item>
        </Metadata>
      </ContentDefinition>
    </ContentDefinitions> -->
  </BuildingBlocks>
  <ClaimsProviders>
    <ClaimsProvider>
      <DisplayName>REST APIs</DisplayName>
      <TechnicalProfiles>
        <TechnicalProfile Id="REST-GetProfile">
          <DisplayName>Get user extended profile Azure Function web hook</DisplayName>
          <Protocol Name="Proprietary" Handler="Web.TPEngine.Providers.RestfulProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
          <Metadata>
            <!-- Set the ServiceUrl with your own REST API endpoint -->
            <Item Key="ServiceUrl">https://mytenant-dev.azurewebsites.net/api/users/create-user</Item>
            <Item Key="SendClaimsIn">Body</Item>
            <!-- Set AuthenticationType to Basic or ClientCertificate in production environments -->
            <Item Key="AuthenticationType">None</Item>
            <!-- REMOVE the following line in production environments -->
            <Item Key="AllowInsecureAuthInProduction">true</Item>
          </Metadata>
          <InputClaims>
            <!-- Claims sent to your REST API -->
            <InputClaim ClaimTypeReferenceId="objectId" PartnerClaimType="UserAccountId" />
            <InputClaim ClaimTypeReferenceId="email" PartnerClaimType="contactEmail" />
            <InputClaim ClaimTypeReferenceId="givenName" PartnerClaimType="firstName" />
            <InputClaim ClaimTypeReferenceId="surName" PartnerClaimType="lastName" />
            <InputClaim ClaimTypeReferenceId="extension_ContactNumber" PartnerClaimType="contactPhone" />
            <InputClaim ClaimTypeReferenceId="city" />
            <InputClaim ClaimTypeReferenceId="country" />
            <InputClaim ClaimTypeReferenceId="postalCode" />
            <InputClaim ClaimTypeReferenceId="extension_Organization" PartnerClaimType="organization" />
          </InputClaims>
          <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
        </TechnicalProfile>
      </TechnicalProfiles>
    </ClaimsProvider>
    <ClaimsProvider>
      <DisplayName>Token Issuer</DisplayName>
      <TechnicalProfiles>
        <TechnicalProfile Id="JwtIssuer">
          <Metadata>
            <Item Key="token_lifetime_secs">3600</Item>
            <Item Key="id_token_lifetime_secs">3600</Item>
            <Item Key="refresh_token_lifetime_secs">1209600</Item>
            <Item Key="rolling_refresh_token_lifetime_secs">7776000</Item>
            <Item Key="IssuanceClaimPattern">AuthorityAndTenantGuid</Item>
            <Item Key="AuthenticationContextReferenceClaimPattern">None</Item>
          </Metadata>
        </TechnicalProfile>
      </TechnicalProfiles>
    </ClaimsProvider>
    <ClaimsProvider>
      <DisplayName>Local Account</DisplayName>
      <TechnicalProfiles>
        <!--Local account sign-up page-->
        <TechnicalProfile Id="LocalAccountSignUpWithLogonEmail">
          <OutputClaims>
            <OutputClaim ClaimTypeReferenceId="email" PartnerClaimType="Verified.Email" Required="true" />
            <OutputClaim ClaimTypeReferenceId="newPassword" Required="true" />
            <OutputClaim ClaimTypeReferenceId="reenterPassword" Required="true" />
            <OutputClaim ClaimTypeReferenceId="displayName" Required="true" />
            <OutputClaim ClaimTypeReferenceId="givenName" Required="true" />
            <OutputClaim ClaimTypeReferenceId="surName" Required="true" />
            <OutputClaim ClaimTypeReferenceId="extension_ContactNumber" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="extension_Organization" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="city" Required="true" />
            <OutputClaim ClaimTypeReferenceId="country" Required="true" />
            <OutputClaim ClaimTypeReferenceId="postalCode" Required="true" />
          </OutputClaims>
        </TechnicalProfile>
      </TechnicalProfiles>
    </ClaimsProvider>
    <ClaimsProvider>
      <DisplayName>Self Asserted</DisplayName>
      <TechnicalProfiles>
        <!--Edit profile page-->
        <TechnicalProfile Id="SelfAsserted-ProfileUpdate">
          <OutputClaims>
            <OutputClaim ClaimTypeReferenceId="displayName" Required="true" />
            <OutputClaim ClaimTypeReferenceId="givenName" Required="true" />
            <OutputClaim ClaimTypeReferenceId="surname" Required="true" />
            <OutputClaim ClaimTypeReferenceId="extension_ContactNumber" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="extension_Organization" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="city" Required="true" />
            <OutputClaim ClaimTypeReferenceId="country" Required="true" />
            <OutputClaim ClaimTypeReferenceId="postalCode" Required="true" />
          </OutputClaims>
        </TechnicalProfile>
      </TechnicalProfiles>
    </ClaimsProvider>
    <ClaimsProvider>
      <DisplayName>Azure Active Directory</DisplayName>
      <TechnicalProfiles>
        <TechnicalProfile Id="AAD-Common">
          <Metadata>
            <Item Key="ClientID">95f45d94-fe65-438f-9fe9-70b020c7cba6</Item>
            <Item Key="ApplicationObjectId">de635d21-9084-4132-9f9d-42d3099004f9</Item>
          </Metadata>
        </TechnicalProfile>
        <!-- Write data during a local account sign-up flow. -->
        <TechnicalProfile Id="AAD-UserWriteUsingLogonEmail">
          <PersistedClaims>
            <PersistedClaim ClaimTypeReferenceId="extension_ContactNumber" DefaultValue="" />
            <PersistedClaim ClaimTypeReferenceId="city" />
            <PersistedClaim ClaimTypeReferenceId="country" />
            <PersistedClaim ClaimTypeReferenceId="extension_Organization" DefaultValue="" />
            <PersistedClaim ClaimTypeReferenceId="postalCode" />
          </PersistedClaims>
        </TechnicalProfile>
        <!-- Write data during edit profile flow. -->
        <TechnicalProfile Id="AAD-UserWriteProfileUsingObjectId">
          <PersistedClaims>
            <PersistedClaim ClaimTypeReferenceId="extension_ContactNumber" DefaultValue="" />
            <PersistedClaim ClaimTypeReferenceId="city" />
            <PersistedClaim ClaimTypeReferenceId="country" />
            <PersistedClaim ClaimTypeReferenceId="extension_Organization" DefaultValue="" />
            <PersistedClaim ClaimTypeReferenceId="postalCode" />
          </PersistedClaims>
        </TechnicalProfile>
        <!-- Read data after user authenticates with a local account. -->
        <TechnicalProfile Id="AAD-UserReadUsingEmailAddress">
          <OutputClaims>
            <OutputClaim ClaimTypeReferenceId="extension_ContactNumber" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="city" />
            <OutputClaim ClaimTypeReferenceId="country" />
            <OutputClaim ClaimTypeReferenceId="extension_Organization" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="postalCode" />
          </OutputClaims>
        </TechnicalProfile>
        <!-- Read data after user authenticates with a federated account. -->
        <TechnicalProfile Id="AAD-UserReadUsingObjectId">
          <OutputClaims>
            <OutputClaim ClaimTypeReferenceId="extension_ContactNumber" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="city" />
            <OutputClaim ClaimTypeReferenceId="country" />
            <OutputClaim ClaimTypeReferenceId="extension_Organization" DefaultValue="" Required="true" />
            <OutputClaim ClaimTypeReferenceId="postalCode" />
          </OutputClaims>
        </TechnicalProfile>
      </TechnicalProfiles>
    </ClaimsProvider>
    <ClaimsProvider>
      <DisplayName>Local Account SignIn</DisplayName>
      <TechnicalProfiles>
        <TechnicalProfile Id="login-NonInteractive">
          <Metadata>
            <Item Key="client_id">20b6489d-f22e-4edf-aee3-16db7d89a785</Item>
            <Item Key="IdTokenAudience">910b4ceb-9cb0-4065-8f12-5b404e6c8d23</Item>
          </Metadata>
          <InputClaims>
            <InputClaim ClaimTypeReferenceId="client_id" DefaultValue="20b6489d-f22e-4edf-aee3-16db7d89a785" />
            <InputClaim ClaimTypeReferenceId="resource_id" PartnerClaimType="resource" DefaultValue="910b4ceb-9cb0-4065-8f12-5b404e6c8d23" />
          </InputClaims>
        </TechnicalProfile>
      </TechnicalProfiles>
    </ClaimsProvider>
  </ClaimsProviders>
  <UserJourneys>
    <UserJourney Id="SignUpOrSignInProgressive">
      <OrchestrationSteps>
        <OrchestrationStep Order="1" Type="CombinedSignInAndSignUp" ContentDefinitionReferenceId="api.signuporsignin">
          <ClaimsProviderSelections>
            <ClaimsProviderSelection ValidationClaimsExchangeId="LocalAccountSigninEmailExchange" />
          </ClaimsProviderSelections>
          <ClaimsExchanges>
            <ClaimsExchange Id="LocalAccountSigninEmailExchange" TechnicalProfileReferenceId="SelfAsserted-LocalAccountSignin-Email" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="2" Type="ClaimsExchange">
          <Preconditions>
            <Precondition Type="ClaimsExist" ExecuteActionsIf="true">
              <Value>objectId</Value>
              <Action>SkipThisOrchestrationStep</Action>
            </Precondition>
          </Preconditions>
          <ClaimsExchanges>
            <ClaimsExchange Id="SignUpWithLogonEmailExchange" TechnicalProfileReferenceId="LocalAccountSignUpWithLogonEmail" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <!-- This step reads any user attributes that we may not have received when in the token. -->
        <OrchestrationStep Order="3" Type="ClaimsExchange">
          <ClaimsExchanges>
            <ClaimsExchange Id="AADUserReadWithObjectId" TechnicalProfileReferenceId="AAD-UserReadUsingObjectId" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="4" Type="ClaimsExchange">
          <Preconditions>
            <Precondition Type="ClaimsExist" ExecuteActionsIf="false">
              <Value>newUser</Value>
              <Action>SkipThisOrchestrationStep</Action>
            </Precondition>
          </Preconditions>
          <ClaimsExchanges>
            <ClaimsExchange Id="RESTGetProfile" TechnicalProfileReferenceId="REST-GetProfile" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="5" Type="SendClaims" CpimIssuerTechnicalProfileReferenceId="JwtIssuer" />
      </OrchestrationSteps>
      <ClientDefinition ReferenceId="DefaultWeb" />
    </UserJourney>
    <UserJourney Id="ProfileEdit">
      <OrchestrationSteps>
        <OrchestrationStep Order="1" Type="ClaimsProviderSelection" ContentDefinitionReferenceId="api.idpselections">
          <ClaimsProviderSelections>
            <ClaimsProviderSelection TargetClaimsExchangeId="LocalAccountSigninEmailExchange" />
          </ClaimsProviderSelections>
        </OrchestrationStep>
        <OrchestrationStep Order="2" Type="ClaimsExchange">
          <ClaimsExchanges>
            <ClaimsExchange Id="LocalAccountSigninEmailExchange" TechnicalProfileReferenceId="SelfAsserted-LocalAccountSignin-Email" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="3" Type="ClaimsExchange">
          <ClaimsExchanges>
            <ClaimsExchange Id="AADUserReadWithObjectId" TechnicalProfileReferenceId="AAD-UserReadUsingObjectId" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="4" Type="ClaimsExchange">
          <ClaimsExchanges>
            <ClaimsExchange Id="B2CUserProfileUpdateExchange" TechnicalProfileReferenceId="SelfAsserted-ProfileUpdate" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="5" Type="SendClaims" CpimIssuerTechnicalProfileReferenceId="JwtIssuer" />
      </OrchestrationSteps>
      <ClientDefinition ReferenceId="DefaultWeb" />
    </UserJourney>
    <UserJourney Id="PasswordReset">
      <OrchestrationSteps>
        <OrchestrationStep Order="1" Type="ClaimsExchange">
          <ClaimsExchanges>
            <ClaimsExchange Id="PasswordResetUsingEmailAddressExchange" TechnicalProfileReferenceId="LocalAccountDiscoveryUsingEmailAddress" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="2" Type="ClaimsExchange">
          <ClaimsExchanges>
            <ClaimsExchange Id="NewCredentials" TechnicalProfileReferenceId="LocalAccountWritePasswordUsingObjectId" />
          </ClaimsExchanges>
        </OrchestrationStep>
        <OrchestrationStep Order="3" Type="SendClaims" CpimIssuerTechnicalProfileReferenceId="JwtIssuer" />
      </OrchestrationSteps>
      <ClientDefinition ReferenceId="DefaultWeb" />
    </UserJourney>
  </UserJourneys>
</TrustFrameworkPolicy>